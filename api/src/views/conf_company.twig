{% extends "layouts/base.twig" %}

{% block title %}Configurar Empresa{% endblock %}

{% block content %}
 <div class="modal fade" id="stepModal" tabindex="-1" aria-labelledby="stepModalLabel" aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="stepModalLabel">Registro por Pasos</h5>
                    <!-- Botón de cerrar eliminado para que no se pueda cerrar -->
                </div>
                <div class="modal-body">
                    <!-- Contenedor de pasos -->
                    <div id="stepWizard">
                        <!-- Barra de progreso -->
                        <div class="progress mb-4">
                            <div id="progressBar" class="progress-bar" role="progressbar" style="width: 33%;" aria-valuenow="33" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>

                        <!-- Paso 1: Empresa -->
                        <div id="step1" class="step">
                            <h5>Paso 1: Información de Empresa</h5>
                            <div class="mb-3">
                                <label for="empresaNombre" class="form-label">Nombre de la Empresa</label>
                                <input type="text" class="form-control" id="empresaNombre" placeholder="Ingrese el nombre de la empresa">
                            </div>
                            <div class="mb-3">
                                <label for="empresaDireccion" class="form-label">Dirección</label>
                                <input type="text" class="form-control" id="empresaDireccion" placeholder="Ingrese la dirección">
                            </div>
                        </div>

                        <!-- Paso 2: Moneda -->
                        <div id="step2" class="step d-none">
                            <h5>Paso 2: Selección de Moneda</h5>
                            <div class="mb-3">
                                <label for="moneda" class="form-label">Moneda</label>
                                <select class="form-select" id="moneda">
                                    <option value="USD">Dólar (USD)</option>
                                    <option value="EUR">Euro (EUR)</option>
                                    <option value="MXN">Peso Mexicano (MXN)</option>
                                </select>
                            </div>
                        </div>

                        <!-- Paso 3: Accesos -->
                        <div id="step3" class="step d-none">
                            <h5>Paso 3: Configuración de Accesos</h5>
                            <div class="mb-3">
                                <label for="usuario" class="form-label">Usuario</label>
                                <input type="text" class="form-control" id="usuario" placeholder="Ingrese el usuario">
                            </div>
                            <div class="mb-3">
                                <label for="password" class="form-label">Contraseña</label>
                                <input type="password" class="form-control" id="password" placeholder="Ingrese la contraseña">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button id="prevButton" type="button" class="btn btn-secondary d-none">Anterior</button>
                    <button id="nextButton" type="button" class="btn btn-primary">Siguiente</button>
                    <button id="submitButton" type="button" class="btn btn-success d-none">Finalizar</button>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block scripts %}

 <script>
        // Lógica para mostrar el modal automáticamente y manejar el wizard de pasos
        document.addEventListener('DOMContentLoaded', () => {
            const modal = new bootstrap.Modal(document.getElementById('stepModal'), {
                backdrop: 'static', // Evitar cerrar al hacer clic fuera
                keyboard: false     // Evitar cerrar con la tecla Esc
            });

            modal.show(); // Mostrar el modal automáticamente al cargar la página
        });

        // Lógica para el wizard de pasos
        const steps = document.querySelectorAll('.step');
        const progressBar = document.getElementById('progressBar');
        const prevButton = document.getElementById('prevButton');
        const nextButton = document.getElementById('nextButton');
        const submitButton = document.getElementById('submitButton');

        let currentStep = 0;

        function showStep(step) {
            steps.forEach((element, index) => {
                element.classList.toggle('d-none', index !== step);
            });

            // Actualizar barra de progreso
            progressBar.style.width = `${((step + 1) / steps.length) * 100}%`;

            // Controlar visibilidad de botones
            prevButton.classList.toggle('d-none', step === 0);
            nextButton.classList.toggle('d-none', step === steps.length - 1);
            submitButton.classList.toggle('d-none', step !== steps.length - 1);
        }

        // Botón "Siguiente"
        nextButton.addEventListener('click', () => {
            if (currentStep < steps.length - 1) {
                currentStep++;
                showStep(currentStep);
            }
        });

        // Botón "Anterior"
        prevButton.addEventListener('click', () => {
            if (currentStep > 0) {
                currentStep--;
                showStep(currentStep);
            }
        });

        // Botón "Finalizar"
        submitButton.addEventListener('click', () => {
            alert('Proceso finalizado');
        });

        // Mostrar el primer paso al cargar el modal
        showStep(currentStep);
    </script>


{% endblock %}


